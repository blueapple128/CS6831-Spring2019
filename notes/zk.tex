%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Zero-Knowledge and Proofs of Knowledge}
\label{sec:zknowledge}
Identity protocols provide proof about the ownership of a private key, without revealing that private key.
We can generalize this notion to proving knowledge of an arbitrary secret without revealing the secret as \emph{zero-knowledge (ZK) proofs}.

For the formal definition of a ZK proof, we follow Boneh-Shoup's treatment, an effective relation is a binary relation $\calR \subseteq \calX \times \calY$  where $\calR, \calX,\calY$ are sets.
(We assume the are efficiently recognizable, meaning one can determine if a value is a member of the set efficiently.)
Elements of $\calY$ are called \emph{statements} and elements of $\calX$ are called \emph{witnesses}.

\fpage{.25}{
\underline{$\NIZK_{\Phi,\Simu}^\advA$}\\[1pt]
$b \getsr \bits$\\
$b' \getsr \advA^{\ProofOracle}$\\
Return $(b = b')$\medskip

\underline{$\ProofOracle(x,Y)$}\\[1pt]
If $b = 1$ then\\
\myInd $\pi \getsr \Gen(x,Y)$\\
If $b = 0$ then \\
\myInd $\pi \getsr \Simu(Y)$\\
Return $\pi$
}

\fpage{.15}{
\underline{$\NIZK1_{\Phi,\Simu}^\advA$}\\[1pt]
$b \getsr \bits$\\
$b' \getsr \advA^{\ProofOracle,\Horacle}$
Return $(b = b')$\medskip

\underline{$\ProofOracle(x,Y)$}\\[1pt]
$\pi \getsr \Gen^\Horacle(x,Y)$\\
Return $\pi$\medskip

\underline{$\Horacle(M)$}\\[1pt]
If $\TabH[M] = \bot$ then\\
\myInd $\TabH[M] \getsr \bits^n$\\
Return $\TabH[M]$
}
\fpage{.15}{
\underline{$\NIZK1_{\Phi,\Simu}^\advA$}\\[1pt]
$b \getsr \bits$\\
$b' \getsr \advA^{\ProofOracle,\HashSim}$\\
Return $(b = b')$\medskip

\underline{$\ProofOracle(x,Y)$}\\[1pt]
$\pi \getsr \Simu_P(Y)$\\
Return $\pi$\medskip

\underline{$\HashSim(M)$}\\[1pt]
Ret $\Simu_H(M)$
}


